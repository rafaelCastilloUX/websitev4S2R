<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../dist/batch-address-auto-complete.min.css" />
    <script src="../dist/batch-address-auto-complete.min.js"></script>
    <script src="environment.js"></script>
    <script>
      function initialize() {
        // Custom Autocomplete of Batch Service
        batchAutocomplete(
          document.getElementById("batchAddressAutoComplete"),
          env.domainServer,
          env.apiKey
        );

        // Add an event listener to get value
        document.addEventListener("batch-address-auto-complete", function (e) {
          // Here you will get data what you had selected in input by using "e.detail"
          console.log("Selected item: ", e.detail);
        });

        // Add an event listener to handle error
        document.addEventListener("batch-auto-complete-error", function (e) {
          // Here you will get error using "e.detail"
          console.log("Error while searching: ", e.detail);
        });
      }
    </script>
  </head>
  <body onload="initialize()">
    <h2>Batch Service Autocomplete Lib...</h2>
    <p>Start typing to select address:</p>
    <div class="batch-loading">
      <input
        maxlength="25"
        class="batch-autocomplete"
        id="batchAddressAutoComplete"
        notFoundText="No results found"
        showNotFound="true"
        displayData="name"
        type="text"
        take="5"
        debounce="700"
        placeholder="Enter your address"
        filterType="address"
      />
      <div id="batch-loader"></div>
      <div id="batchNoDataFound"></div>
    </div>
    <div>
      <p style="font-weight: 900; color: blue" id="getAddress"></p>
    </div>
  </body>
</html>
